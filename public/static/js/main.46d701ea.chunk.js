(this["webpackJsonpexpress-connect"]=this["webpackJsonpexpress-connect"]||[]).push([[0],{45:function(e,t,c){},46:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(17),r=c.n(a),i=(c(45),c(4)),l=c(5),o=c(2),j=c(3),d="http://localhost:5000/api",b=(c(46),function(){return void 0!==typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))}),m=function(e){if("undefined"!==typeof window)return localStorage.removeItem("jwt",JSON.stringify("jwt")),e(),fetch("".concat(d,"/signout"),{method:"POST"}).then((function(e){console.log("signout",e)})).catch((function(e){return console.log(e)}))},u=c(6),h=c(0),O=function(){var e=Object(l.h)(),t=Object(u.c)((function(e){return e.cart})).cartItems;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"container-fluid ",children:Object(h.jsxs)("div",{className:"row custom-header align-items-center pt-2",children:[Object(h.jsx)("div",{className:" col-2 col-lg-2",children:Object(h.jsxs)(i.b,{className:"navbar-brand text-white",to:"/",children:[Object(h.jsx)("img",{src:"/logo.png",width:"40",height:"40",class:"d-inline-block align-top ",alt:""}),"  Ecommerce"]})}),Object(h.jsx)("div",{className:"col-10 col-lg-6",children:Object(h.jsxs)("form",{className:"d-flex",children:[Object(h.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),Object(h.jsx)("button",{className:"btn btn-warning",type:"submit",children:"Search"})]})}),Object(h.jsx)("div",{className:"col-12 col-lg-4",children:Object(h.jsxs)("ul",{className:"d-flex justify-content-evenly",children:[b()&&1===b().user.role&&Object(h.jsx)("li",{className:"list-unstyled mt-2 ",children:Object(h.jsx)(i.b,{to:"/admin/dashboard",className:"text-decoration-none text-white fs-5",children:"Admin"})}),b()&&0===b().user.role&&Object(h.jsx)("li",{className:"list-unstyled pt-2",children:Object(h.jsx)(i.b,{to:"/user/profile",className:"text-decoration-none text-white fs-5",children:"Profile"})}),!b()&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{className:"list-unstyled",children:Object(h.jsxs)(i.b,{to:"/signin",className:"text-decoration-none text-white fs-5",children:[Object(h.jsx)("i",{className:"bi bi-box-arrow-in-right fs-3"}),"Signin"]})}),Object(h.jsx)("li",{className:"list-unstyled",children:Object(h.jsxs)(i.b,{to:"/signup",className:"text-decoration-none text-white fs-5",children:[Object(h.jsx)("i",{className:"bi bi-person-plus-fill fs-3"}),"Signup"]})})]}),b()&&Object(h.jsx)("button",{className:"btn btn-outline-warning pt-2  ",onClick:function(){return m((function(){e("/")}))},children:"Signout"}),Object(h.jsx)("li",{className:"list-unstyled pt-1",children:Object(h.jsx)(i.b,{to:"/cart",className:"text-decoration-none text-white fs-5",children:Object(h.jsx)("i",{className:"bi bi-cart-plus-fill fs-3 position-relative",children:Object(h.jsx)("span",{className:"postion-absolute top-0 start-100 bg-warning badge rounded-pill translate-middle text-dark",style:{fontSize:"12px"},children:Object(h.jsx)("span",{children:t.length})})})})})]})})]})}),Object(h.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light custom-header2",children:Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{className:"navbar-toggler-icon"})}),Object(h.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(h.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(i.b,{className:"nav-link active text-white","aria-current":"page",to:"/",children:"Home"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(i.b,{className:"nav-link text-white",to:"/deals",children:"Deals"})})]})})]})})]})},x=function(){var e=Object(l.i)(),t=Object(s.useState)({error:"",success:!1}),c=Object(j.a)(t,2),n=c[0],a=c[1],r=n.error,i=n.success;Object(s.useEffect)((function(){var t=e.token;fetch("".concat(d,"/confirmation/").concat(t),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.error?a(Object(o.a)(Object(o.a)({},n),{},{error:e.error,success:!1})):a(Object(o.a)(Object(o.a)({},n),{},{error:"",success:!0}))})).catch((function(e){return console.log(e)}))}),[e.token,n]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"alert alert-info",style:{display:i?"":"none"},children:"Your account has been verified,login to continue"}),Object(h.jsx)("div",{className:"alert alert-danger",style:{display:r?"":"none"},children:r})]})},p=c(11),f=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("footer",{className:"footer",children:Object(h.jsxs)("div",{className:"container-fluid pt-3",children:[Object(h.jsxs)("div",{className:"row ",children:[Object(h.jsxs)("div",{className:"col-4  col-sm-2 offset-1",children:[Object(h.jsx)("h5",{children:"Links"}),Object(h.jsxs)("ul",{className:"list-unstyled ",children:[Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"#",className:"text-white  text-decoration-none",children:"Home"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"./aboutus.html",className:"text-white  text-decoration-none",children:"Deals"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"#",className:"text-white  text-decoration-none",children:"About"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"./contactus.html",className:"text-white  text-decoration-none",children:"Contact"})})]})]}),Object(h.jsxs)("div",{className:"col-7 col-sm-5 address ",children:[Object(h.jsx)("h5",{children:"Our Address"}),Object(h.jsxs)("address",{children:["King's Way, Kathmandu",Object(h.jsx)("br",{}),"Bagmati Province",Object(h.jsx)("br",{}),"NEPAL",Object(h.jsx)("br",{}),Object(h.jsx)("i",{className:"fa fa-phone fa-lg"})," : +977 9812345671",Object(h.jsx)("br",{}),Object(h.jsx)("i",{className:"fa fa-fax fa-lg"})," : +977 9742690147",Object(h.jsx)("br",{}),Object(h.jsx)("i",{className:"fa fa-envelope fa-lg"})," : ",Object(h.jsx)(i.b,{to:"mailto:jungsaugat@gmail.com",className:"text-white text-decoration-none",children:"jungsaugat@gmail.com"})]})]}),Object(h.jsx)("div",{className:"col-12 col-sm-4 align-self-center",children:Object(h.jsxs)("div",{className:" text-center",children:[Object(h.jsx)(i.b,{className:"btn btn-social-icon btn-danger m-1 ",to:"http://google.com/+",children:Object(h.jsx)("i",{className:"fa fa-google-plus fa-lg"})}),Object(h.jsx)(i.b,{className:"btn btn-social-icon btn-primary m-1",to:"http://www.facebook.com/profile.php?id=",children:Object(h.jsx)("i",{className:"fa fa-facebook fa-lg"})}),Object(h.jsx)(i.b,{className:"btn btn-social-icon btn-primary m-1",to:"http://www.linkedin.com/in/",children:Object(h.jsx)("i",{className:"fa fa-linkedin fa-lg"})}),Object(h.jsx)(i.b,{className:"btn btn-social-icon btn-primary m-1",to:"http://twitter.com/",children:Object(h.jsx)("i",{className:"fa fa-twitter fa-lg"})}),Object(h.jsx)(i.b,{className:"btn btn-social-icon btn-danger m-1",to:"http://youtube.com/",children:Object(h.jsx)("i",{className:"fa fa-youtube fa-lg"})}),Object(h.jsx)(i.b,{className:"btn btn-social-icon btn-secondary ",to:"mailto:",children:Object(h.jsx)("i",{className:"fa fa-envelope fa-lg"})})]})})]}),Object(h.jsx)("hr",{}),Object(h.jsx)("div",{className:"row justify-content-center",children:Object(h.jsx)("div",{className:"col-auto ",children:Object(h.jsx)("p",{children:"\xa9 Copyright 2022 Saugat Sijapati"})})})]})})})},g=function(){var e=Object(l.h)(),t=Object(l.g)(),c=b().user,n=Object(s.useState)({email:"",password:"",error:"",redirectToPage:!1}),a=Object(j.a)(n,2),r=a[0],m=a[1],u=r.email,x=r.password,g=r.error,N=r.redirectToPage,v=function(e){return function(t){m(Object(o.a)(Object(o.a)({},r),{},Object(p.a)({error:!1},e,t.target.value)))}};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"container",style:{marginBottom:"200px"},children:Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsx)("div",{className:"col-md-7 mt-4 mb-3 p-3 shadow-lg",children:Object(h.jsxs)("form",{children:[Object(h.jsx)("div",{className:"alert alert-danger",style:{display:g?"":"none"},children:g}),function(){var s=t.search?t.search.split("=")[1]:"/user/profile";return N&&c&&1===c.role?e("/admin/dashboard"):b()&&0===c.role?Object(h.jsx)(l.a,{to:s}):void 0}(),Object(h.jsxs)("div",{className:"col-12 mb-3",children:[Object(h.jsx)("label",{for:"email",children:"Email"}),Object(h.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"example@gmail.com",className:"form-control",onChange:v("email"),value:u})]}),Object(h.jsxs)("div",{className:"col-12 mb-3",children:[Object(h.jsx)("label",{for:"password",children:"Password"}),Object(h.jsx)("input",{type:"password",name:"pass",id:"password",placeholder:"***********",className:"form-control",onChange:v("password"),value:x})]}),Object(h.jsx)("div",{className:"col-4 mb-3",children:Object(h.jsx)("button",{className:"btn btn-primary form-control",onClick:function(e){e.preventDefault(),m(Object(o.a)(Object(o.a)({},r),{},{error:!1})),function(e){return fetch("".concat(d,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}({email:u,password:x}).then((function(e){e.error?m(Object(o.a)(Object(o.a)({},r),{},{error:e.error})):function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){m(Object(o.a)(Object(o.a)({},r),{},{redirectToPage:!0}))}))}))},children:"Signin"})}),Object(h.jsx)("div",{className:"col-4 offset-md-8",children:Object(h.jsx)(i.b,{to:"/forgetpassword",className:"text-decoration-none text-secondary",children:"Forget Password?"})})]})})})}),Object(h.jsx)(f,{})]})},N=function(){var e=Object(s.useState)({name:"",email:"",password:"",error:"",success:!1}),t=Object(j.a)(e,2),c=t[0],n=t[1],a=c.name,r=c.email,i=c.password,l=c.error,b=c.success,m=function(e){return function(t){n(Object(o.a)(Object(o.a)({},c),{},Object(p.a)({error:!1},e,t.target.value)))}};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsx)("div",{className:"col-md-7 mt-4 mb-3 p-3 shadow-lg",children:Object(h.jsxs)("form",{children:[Object(h.jsx)("div",{className:"alert alert-danger",style:{display:l?"":"none"},children:l}),Object(h.jsx)("div",{className:"alert alert-info",style:{display:b?"":"none"},children:"New account created, verify your account before login"}),Object(h.jsxs)("div",{className:"col-12 mb-3",children:[Object(h.jsx)("label",{htmlFor:"firstname",children:"Name"}),Object(h.jsx)("input",{type:"text",name:"fname",id:"firstname",placeholder:"Name",className:"form-control",onChange:m("name"),value:a})]}),Object(h.jsxs)("div",{className:"col-12 mb-3",children:[Object(h.jsx)("label",{htmlFor:"email",children:"Email"}),Object(h.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"example@gmail.com",className:"form-control",onChange:m("email"),value:r})]}),Object(h.jsxs)("div",{className:"col-12 mb-3",children:[Object(h.jsx)("label",{htmlFor:"password",children:"Password"}),Object(h.jsx)("input",{type:"password",name:"pass",id:"password",placeholder:"***********",className:"form-control",onChange:m("password"),value:i})]}),Object(h.jsx)("div",{className:"col-6",children:Object(h.jsx)("button",{className:"btn btn-primary form-control",onClick:function(e){var t;e.preventDefault(),n(Object(o.a)(Object(o.a)({},c),{},{error:!1})),(t={name:a,email:r,password:i},fetch("".concat(d,"/register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error?n(Object(o.a)(Object(o.a)({},c),{},{error:e.error,success:!1})):n(Object(o.a)(Object(o.a)({},c),{},{name:"",email:"",password:"",success:!0}))}))},children:"Signup"})})]})})})}),Object(h.jsx)(f,{})]})},v=c(7),y=c.n(v),w=c(12),S=c(14),C=c.n(S),k="ADD_TO_CART",I="REMOVE_FROM_CART",_="SAVE_SHIPPING_INFO",F=function(e,t){return function(){var c=Object(w.a)(y.a.mark((function c(s,n){var a,r;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.a.get("".concat(d,"/productdetails/").concat(e));case 2:a=c.sent,r=a.data,s({type:k,payload:{product:r._id,name:r.product_name,price:r.product_price,image:r.product_image,stock:r.countInStock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},E=c(13),P=(c(24),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.cart})).cartItems,c=Object(l.h)(),n=function(t,c){e(function(e){return function(){var t=Object(w.a)(y.a.mark((function t(c,s){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:I,payload:e}),localStorage.setItem("cartItems",JSON.stringify(s().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()}(t)),E.b.success("".concat(c," is remove from the cart"))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)(E.a,{position:"top-center",theme:"colored"}),0===t.length?Object(h.jsx)("h2",{className:"mt-5 text-danger text-center",children:"Your cart is Empty"}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"row d-flex justify-content-between mt-5 mb-3",children:[Object(h.jsx)("h2",{className:"text-center",children:"Your Cart Items"}),Object(h.jsx)("div",{className:"col-md-8 shadow",children:t.map((function(t,c){return Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row align-items-center",children:[Object(h.jsx)("div",{className:"col-3",children:Object(h.jsx)("img",{src:"http://localhost:5000/".concat(t.image),alt:t.name,width:"50"})}),Object(h.jsx)("div",{className:"col-3",children:Object(h.jsx)("b",{children:Object(h.jsx)("span",{children:t.name})})}),Object(h.jsxs)("div",{className:"col-2 text-warning",children:["Rs.",t.price]}),Object(h.jsx)("div",{className:"col-3",children:Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){return function(t,c){var s=c-1;s<1||e(F(t,s))}(t.product,t.quantity)},children:"-"}),"\xa0",Object(h.jsx)("input",{type:"number",value:t.quantity,readOnly:!0,className:"form-control border-0"}),"\xa0",Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(){return function(t,c,s){var n=c+1;n>s||e(F(t,n))}(t.product,t.quantity,t.stock)},children:"+"})]})}),Object(h.jsx)("div",{className:"col-1",children:Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){return n(t.product,t.name)},children:Object(h.jsx)("i",{className:"bi bi-trash"})})})]}),Object(h.jsx)("hr",{})]},c)}))}),Object(h.jsx)("div",{className:"col-md-3",children:Object(h.jsxs)("div",{className:"shadow p-2",children:[Object(h.jsx)("h5",{children:"Cart Summary"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Units:"})," ",t.reduce((function(e,t){return e+Number(t.quantity)}),0)," (Units)"]}),Object(h.jsx)("br",{}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Total:"})," Rs.",t.reduce((function(e,t){return e+t.quantity*t.price}),0)]}),Object(h.jsx)("hr",{}),Object(h.jsx)("button",{className:"btn btn-warning",onClick:function(){c("/signin?redirect=shipping")},children:"Check Out"})]})})]})})}),Object(h.jsx)(f,{})]})}),A=c(16),T=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={limit:t,skip:e,filters:c};return fetch("".concat(d,"/products/by/search"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},R=function(e){var t=e.categories,c=e.handleFilters,n=Object(s.useState)([]),a=Object(j.a)(n,2),r=a[0],i=a[1],l=function(e){return function(){var t=r.indexOf(e),s=Object(A.a)(r);-1===t?s.push(e):s.splice(t,1),i(s),c(s,1)}};return Object(h.jsx)(h.Fragment,{children:t.map((function(e,t){return Object(h.jsxs)("div",{className:"form-check",children:[Object(h.jsx)("input",{className:"form-check-input",type:"checkbox",onChange:l(e._id),value:r.indexOf(-1===e._id)}),Object(h.jsx)("label",{className:"form-check-label",children:e.category_name})]},t)}))})},D=[{_id:0,name:"All",array:[]},{_id:1,name:"Rs.100 to Rs. 1000",array:[100,1e3]},{_id:2,name:"Rs.1000 to Rs. 10000",array:[1e3,1e4]},{_id:3,name:"Rs.10000 to Rs. 50000",array:[1e4,5e4]},{_id:4,name:"Rs.50000 to Rs. 80000",array:[5e4,8e4]},{_id:5,name:"More than 80000",array:[8e4,1e6]}],J=function(e){var t=e.prices,c=e.handleFilters,n=Object(s.useState)(""),a=Object(j.a)(n,2),r=(a[0],a[1]),i=function(e){c(e.target.value),r(e.target.value)};return Object(h.jsx)(h.Fragment,{children:t.map((function(e,t){return Object(h.jsxs)("div",{className:"form-check",children:[Object(h.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadio",onChange:i,value:"".concat(e._id)}),Object(h.jsx)("label",{className:"form-check-label",children:e.name})]},t)}))})},z=function(e){var t=e.item;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"col",children:Object(h.jsxs)("div",{className:"card shadow-lg",children:[Object(h.jsx)("img",{src:"http://localhost:5000/".concat(t.product_image),className:"card-img-top custom-card-img",alt:t.product_name}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h5",{className:"card-title",children:t.product_name}),Object(h.jsxs)("h5",{className:"card-title",children:["Rs.",t.product_price]}),Object(h.jsx)(i.b,{className:"text-decoration-none",to:"/productdetails/".concat(t._id),children:Object(h.jsx)("button",{className:"btn btn-success",children:"View Details"})})]})]})})})},q=function(){var e=Object(s.useState)({filters:{category:[],price:[]}}),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)([]),r=Object(j.a)(a,2),i=r[0],l=r[1],b=Object(s.useState)(!1),m=Object(j.a)(b,2),u=(m[0],m[1]),x=Object(s.useState)(8),p=Object(j.a)(x,2),g=p[0],N=(p[1],Object(s.useState)(0)),v=Object(j.a)(N,2),y=v[0],w=v[1],S=Object(s.useState)([]),C=Object(j.a)(S,2),k=C[0],I=C[1],_=Object(s.useState)(0),F=Object(j.a)(_,2),E=F[0],P=F[1],q=function(){fetch("".concat(d,"/categorylist"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then((function(e){e.error?u(e.error):l(e)}))};Object(s.useEffect)((function(){q(),U(y,g,c.filters)}),[]);var B=function(e,t){var s=Object(o.a)({},c);if(s.filters[t]=e,"product_price"===t){var a=L(e);s.filters[t]=a}U(c.filters),n(s)},L=function(e){var t=D,c=[];for(var s in t)t[s]._id===parseInt(e)&&(c=t[s].array);return c},U=function(e){T(y,g,e).then((function(e){e.error?u(e.error):(I(e.product),P(e.size),w(0))}))},M=function(){var e=y+g;T(e,g,c.filters).then((function(t){t.error?u(t.error):(I([].concat(Object(A.a)(k),Object(A.a)(t.product))),P(t.size),w(e))}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsxs)("div",{className:"container-fluid my-3 ",children:[Object(h.jsx)("div",{className:"row justify-content-center",children:Object(h.jsxs)("div",{className:"col-auto",children:[Object(h.jsx)("h1",{children:"Deals and Promotions"}),Object(h.jsx)("p",{className:"text-center",children:"Shop Today\u2019s Deals, Lightning Deals, and limited-time discounts"})]})}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row ",children:[Object(h.jsxs)("div",{className:" col-12 col-md-2 p-2 ",style:{backgroundColor:"#FFC107",height:"600px"},children:[Object(h.jsx)("h5",{children:"Categories"}),Object(h.jsx)(R,{categories:i,handleFilters:function(e){return B(e,"category")}}),Object(h.jsx)("hr",{}),Object(h.jsx)("h5",{children:"Price range"}),Object(h.jsx)(J,{prices:D,handleFilters:function(e){return B(e,"product_price")}}),Object(h.jsx)("hr",{}),Object(h.jsx)("h5",{children:"Deal Type"}),Object(h.jsxs)("ul",{className:"deals-type",children:[Object(h.jsx)("li",{className:"list-unstyled",children:Object(h.jsx)("a",{href:"#",className:"text-decoration-none",children:"Deal of the Day"})}),Object(h.jsx)("li",{className:"list-unstyled",children:Object(h.jsx)("a",{href:"#",className:"text-decoration-none",children:"Lightning Deals"})}),Object(h.jsx)("li",{className:"list-unstyled",children:Object(h.jsx)("a",{href:"#",className:"text-decoration-none",children:"Saving & Sales"})}),Object(h.jsx)("li",{className:"list-unstyled",children:Object(h.jsx)("a",{href:"#",className:"text-decoration-none",children:"Prime Early Access Deals"})})]})]}),Object(h.jsx)("div",{className:"col-12 col-md-10 ",children:Object(h.jsx)("div",{className:"row row-cols-1 row-cols-md-4 g-4",children:k.map((function(e,t){return Object(h.jsx)(z,{item:e},t)}))})})]}),Object(h.jsx)("div",{className:" row justify-content-center",children:Object(h.jsx)("div",{className:"col-auto my-2",children:E>=0&&E>=g&&Object(h.jsx)("center",{children:Object(h.jsx)("button",{onClick:M,className:"btn btn-warning",children:"Load More Products"})})})})]}),Object(h.jsx)(f,{})]})},B=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{id:"carouselExampleIndicators",className:"carousel slide","data-bs-ride":"carousel",children:[Object(h.jsxs)("div",{className:"carousel-indicators",children:[Object(h.jsx)("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"0",className:"active","aria-current":"true","aria-label":"Slide 1"}),Object(h.jsx)("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"1","aria-label":"Slide 2"}),Object(h.jsx)("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"2","aria-label":"Slide 3"})]}),Object(h.jsxs)("div",{className:"carousel-inner",children:[Object(h.jsx)("div",{className:"carousel-item active",children:Object(h.jsx)("img",{src:"https://ymswebsolutions.com/wp-content/themes/ymswebsolutions/assets/img/facebook-cover-page-banner.png",className:"d-block w-100 img-fluid custom-img",alt:"..."})}),Object(h.jsx)("div",{className:"carousel-item",children:Object(h.jsx)("img",{src:"https://marketplace.canva.com/EAECcozJOI4/3/0/1600w/canva-turquoise-and-monochrome-photo-heading-website-facebook-cover-ybCZwi4wBAQ.jpg",className:"d-block w-100 img-fluid custom-img",alt:"..."})}),Object(h.jsx)("div",{className:"carousel-item",children:Object(h.jsx)("img",{src:"https://decitech.com/wp-content/uploads/2017/03/webdesign-first-impression.jpg",className:"d-block w-100 img-fluid custom-img",alt:"..."})})]}),Object(h.jsxs)("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide":"prev",children:[Object(h.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(h.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),Object(h.jsxs)("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide":"next",children:[Object(h.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(h.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})})},L=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(!1),r=Object(j.a)(a,2),i=(r[0],r[1]),l=function(){var e;(e="createdAt",fetch("".concat(d,"/productlist?sortBy=").concat(e,"&order=desc&limit=8"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.err?i(e.err):n(e)}))};return Object(s.useEffect)((function(){l()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)(B,{})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"my-2 shadow p-2 custom-title",children:Object(h.jsx)("h2",{className:"text-center",children:"Latest Products"})})}),Object(h.jsx)("div",{className:"row row-cols-1 row-cols-md-4 g-4 my-4 ",children:c.map((function(e,t){return Object(h.jsx)(z,{item:e},t)}))})]}),Object(h.jsx)(f,{})]})},U=function(){return b()&&0===b().user.role?Object(h.jsx)(l.b,{}):Object(h.jsx)(l.a,{to:"/signin"})},M=function(){return b()&&1===b().user.role?Object(h.jsx)(l.b,{}):Object(h.jsx)(l.a,{to:"/signin"})},G="CREATE_ORDER_REQUEST",Y="CREATE_ORDER_SUCCESS",H="CREATE_ORDER_FAIL",V="MY_ORDER_REQUEST",W="MY_ORDER_SUCCESS",Z="MY_ORDER_FAIL",K="CLEAR_ERRORS",Q=function(e){return function(){var t=Object(w.a)(y.a.mark((function t(c,s){var n,a,r,i,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b(),a=n.token,t.prev=1,c({type:G}),r={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},t.next=6,C.a.post("".concat(d,"/postorder"),e,r);case 6:i=t.sent,l=i.data,c({type:Y,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),c({type:H,payload:t.t0.error});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,c){return t.apply(this,arguments)}}()},X=function(){return function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:K});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$=function(){var e=b().user,t=Object(u.b)(),c=Object(u.c)((function(e){return e.myOrders})),n=(c.loading,c.error),a=c.orders;return Object(s.useEffect)((function(){t(function(){var e=Object(w.a)(y.a.mark((function e(t){var c,s,n,a,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=b(),s=c.user,n=c.token,e.prev=1,t({type:V}),a={headers:{Authorization:"Bearer ".concat(n)}},e.next=6,C.a.get("".concat(d,"/userorders/").concat(s._id),a);case 6:r=e.sent,i=r.data,t({type:W,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:Z,payload:e.t0.error});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())}),[t,n]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"row my-5",children:[Object(h.jsxs)("div",{className:"col-md-4 shadow-lg",children:[Object(h.jsx)("h2",{children:"Basic Info"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("h3",{children:["Name:",e.name]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("h4",{children:["Email:",e.email]})]}),Object(h.jsxs)("div",{className:"col-md-8",children:[Object(h.jsx)("h2",{className:"text-center text-muted",children:"My Orders History"}),Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsxs)("table",{className:"table table-success table-striped text-center table-bordered",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"OrderId"}),Object(h.jsx)("th",{children:"Number of Items"}),Object(h.jsx)("th",{children:"Total Amount"}),Object(h.jsx)("th",{children:"Status"})]})}),Object(h.jsx)("tbody",{children:a&&a.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e._id}),Object(h.jsx)("td",{children:e.orderItems.length}),Object(h.jsx)("td",{children:"Rs. ".concat(e.totalPrice)}),Object(h.jsx)("td",{children:e.status&&String(e.status).includes("delivered")?Object(h.jsx)("p",{style:{color:"green"},children:e.status}):Object(h.jsx)("p",{style:{color:"red"},children:e.status})})]},t)}))})]})})]})]})}),Object(h.jsx)(f,{})]})},ee=function(){var e,t=Object(s.useState)({email:"",error:"",success:""}),c=Object(j.a)(t,2),n=c[0],a=c[1],r=n.email,i=n.error,l=n.success;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"container",style:{marginBottom:"200px"},children:Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsx)("div",{className:"col-md-7 mt-4 mb-3 p-3 shadow-lg",children:Object(h.jsxs)("form",{children:[Object(h.jsx)("div",{className:"alert alert-danger",style:{display:i?"":"none"},children:i}),Object(h.jsx)("div",{className:"alert alert-info",style:{display:l?"":"none"},children:"Password reset link has been sent to your mail"}),Object(h.jsxs)("div",{className:"col-12 mb-3",children:[Object(h.jsx)("label",{for:"email",children:"Email"}),Object(h.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"example@gmail.com",className:"form-control",onChange:(e="email",function(t){a(Object(o.a)(Object(o.a)({},n),{},Object(p.a)({error:!1},e,t.target.value)))}),value:r})]}),Object(h.jsx)("div",{className:"col-4 mb-3",children:Object(h.jsx)("button",{className:"btn btn-primary form-control",onClick:function(e){var t;e.preventDefault(),a(Object(o.a)(Object(o.a)({},n),{},{error:!1})),(t={email:r},fetch("".concat(d,"/forgetpassword"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error?a(Object(o.a)(Object(o.a)({},n),{},{error:e.error,success:!1})):a(Object(o.a)(Object(o.a)({},n),{},{email:"",success:!0}))}))},children:"Send Link"})})]})})})}),Object(h.jsx)(f,{})]})},te=function(){var e=Object(l.i)(),t=Object(s.useState)({email:"",password:"",error:"",success:!1}),c=Object(j.a)(t,2),n=c[0],a=c[1],r=n.email,i=n.password,b=n.error,m=n.success,u=function(e){return function(t){a(Object(o.a)(Object(o.a)({},n),{},Object(p.a)({error:!1},e,t.target.value)))}};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsx)("div",{className:"col-md-7 mt-4 mb-3 p-3 shadow-lg",children:Object(h.jsxs)("form",{children:[Object(h.jsx)("div",{className:"alert alert-danger",style:{display:b?"":"none"},children:b}),Object(h.jsx)("div",{className:"alert alert-info",style:{display:m?"":"none"},children:"Password has been reset successfully,login to continue"}),Object(h.jsxs)("div",{className:"col-12 mb-3",children:[Object(h.jsx)("label",{htmlFor:"email",children:"Email"}),Object(h.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"example@gmail.com",className:"form-control",onChange:u("email"),value:r})]}),Object(h.jsxs)("div",{className:"col-12 mb-3",children:[Object(h.jsx)("label",{htmlFor:"password",children:"Password"}),Object(h.jsx)("input",{type:"password",name:"pass",id:"password",placeholder:"***********",className:"form-control",onChange:u("password"),value:i})]}),Object(h.jsx)("div",{className:"col-6",children:Object(h.jsx)("button",{className:"btn btn-primary form-control",onClick:function(t){t.preventDefault(),a(Object(o.a)(Object(o.a)({},n),{},{error:!1}));var c=e.token;fetch("".concat(d,"/resetpassword/").concat(c),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.error?a(Object(o.a)(Object(o.a)({},n),{},{error:e.error,success:!1})):a(Object(o.a)(Object(o.a)({},n),{},{error:"",email:"",password:"",success:!0}))})).catch((function(e){return console.log(e)}))},children:"Reset Password"})})]})})})}),Object(h.jsx)(f,{})]})},ce=function(){var e=b().user,t=e.name,c=e.email,s=Object(l.h)();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"d-flex flex-column flex-shrink-0 p-3 text-white bg-dark",style:{width:"280px"},children:[Object(h.jsx)(i.b,{to:"/admin/dashboard",className:"d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none",children:Object(h.jsx)("span",{className:"fs-4",children:"Dashboard"})}),Object(h.jsx)("hr",{}),Object(h.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(i.b,{to:"/admin/dashboard",className:"nav-link text-white",children:"Home"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"/admin/addcategory",className:"nav-link text-white",children:"Add Category"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"/admin/addproduct",className:"nav-link text-white",children:"Add Product"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"/",className:"nav-link text-white",children:"Go to User Page"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"#",className:"nav-link text-white",children:"Orders"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"/admin/allproducts",className:"nav-link text-white",children:"Products"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"#",className:"nav-link text-white",children:"Customers"})})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"dropdown",children:[Object(h.jsxs)(i.b,{to:"#",className:"d-flex align-items-center text-white text-decoration-none dropdown-toggle",id:"dropdownUser1","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(h.jsx)("img",{src:"https://github.com/mdo.png",alt:"",width:"32",height:"32",className:"rounded-circle me-2"}),Object(h.jsx)("strong",{children:t})]}),Object(h.jsxs)("ul",{className:"dropdown-menu dropdown-menu-dark text-small shadow","aria-labelledby":"dropdownUser1",children:[Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{className:"dropdown-item",to:"#",children:c})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{className:"dropdown-item",to:"#",children:"Profile"})}),Object(h.jsx)("li",{children:Object(h.jsx)("hr",{className:"dropdown-divider"})}),Object(h.jsx)("li",{children:b()&&Object(h.jsx)("button",{className:"btn btn-outline-warning mt-2",onClick:function(){return m((function(){s("/signin")}))},children:"Signout"})})]})]})]})})},se=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"container-fluid",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-3",children:Object(h.jsx)(ce,{})}),Object(h.jsxs)("div",{className:"col-md-6",children:[Object(h.jsx)("h1",{children:"Welcome to admin Dashboard"}),Object(h.jsx)("h2",{children:"You can now manage products,users and orders from here"})]})]})}),Object(h.jsx)(f,{})]})},ne=function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(!1),r=Object(j.a)(a,2),i=r[0],l=r[1],o=Object(s.useState)(!1),m=Object(j.a)(o,2),u=m[0],x=m[1],p=b().token;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"container-fluid",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-3",children:Object(h.jsx)(ce,{})}),Object(h.jsx)("div",{className:"col-md-6 mt-4",children:Object(h.jsxs)("form",{className:"shadow-lg p-3",children:[Object(h.jsx)("h2",{className:"text-muted",children:"Add Category Form"}),Object(h.jsx)("div",{className:"alert alert-danger",style:{display:i?"":"none"},children:i}),Object(h.jsx)("div",{className:"alert alert-info",style:{display:u?"":"none"},children:"New category added"}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"category",children:"Category Name"}),Object(h.jsx)("input",{type:"text",id:"category",className:"form-control",onChange:function(e){l(""),n(e.target.value.toLowerCase())},value:c})]}),Object(h.jsx)("div",{className:"mb-3",children:Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),l(""),x(!1),function(e,t){return fetch("".concat(d,"/postcategory"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(p,{category_name:c}).then((function(e){e.error?l(e.error):(l(""),x(!0),n(""))}))},children:"Add Category"})})]})})]})}),Object(h.jsx)(f,{})]})},ae=function(){var e=b().token,t=Object(s.useState)({product_name:"",product_price:"",countInStock:"",product_description:"",categories:[],category:"",product_image:"",error:"",success:!1,formData:""}),c=Object(j.a)(t,2),n=c[0],a=c[1],r=n.product_name,i=n.product_price,l=n.countInStock,m=n.product_description,u=n.categories,x=(n.category,n.error),g=n.success,N=n.formData,v=function(){fetch("".concat(d,"/categorylist"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then((function(e){e.error?a(Object(o.a)(Object(o.a)({},n),{},{error:e.error})):a(Object(o.a)(Object(o.a)({},n),{},{categories:e,formData:new FormData}))}))};Object(s.useEffect)((function(){v()}),[]);var y=function(e){return function(t){var c="product_image"===e?t.target.files[0]:t.target.value;N.set(e,c),a(Object(o.a)(Object(o.a)({},n),{},Object(p.a)({},e,c)))}};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"container-fluid",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-3",children:Object(h.jsx)(ce,{})}),Object(h.jsx)("div",{className:"col-md-6 mt-4",children:Object(h.jsxs)("form",{className:"shadow-lg p-3",children:[Object(h.jsx)("div",{className:"alert alert-danger",style:{display:x?"":"none"},children:x}),Object(h.jsx)("div",{className:"alert alert-info",style:{display:g?"":"none"},children:"New product added"}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"productname",children:"Product Name"}),Object(h.jsx)("input",{type:"text",id:"productname",className:"form-control",onChange:y("product_name"),value:r})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"productprice",children:"Product Price"}),Object(h.jsx)("input",{type:"number",id:"productprice",className:"form-control",onChange:y("product_price"),value:i})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"stock",children:"Available Stock Number"}),Object(h.jsx)("input",{type:"number",id:"stock",className:"form-control",onChange:y("countInStock"),value:l})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"description",children:"Product Description"}),Object(h.jsx)("textarea",{className:"form-control",id:"description",onChange:y("product_description"),value:m})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"image",children:"Product Image"}),Object(h.jsx)("input",{type:"file",id:"image",className:"form-control",accept:"image/*",onChange:y("product_image")})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"category",children:"Category"}),Object(h.jsxs)("select",{className:"form-control",onChange:y("category"),children:[Object(h.jsx)("option",{}),u&&u.map((function(e,t){return Object(h.jsx)("option",{value:e._id,children:e.category_name},t)}))]})]}),Object(h.jsx)("div",{className:"mb-3",children:Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(t){t.preventDefault(),a(Object(o.a)(Object(o.a)({},n),{},{error:""})),function(e,t){return fetch("".concat(d,"/postproduct"),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)},body:t}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(e,N).then((function(e){e.error?a(Object(o.a)(Object(o.a)({},n),{},{error:e.error})):a(Object(o.a)(Object(o.a)({},n),{},{product_name:"",product_price:"",product_description:"",countInStock:"",product_image:"",success:!0,error:""}))}))},children:"Add Product"})})]})})]})}),Object(h.jsx)(f,{})]})},re=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],a=function(){fetch("".concat(d,"/productlist"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then((function(e){e.error?console.log(e.error):n(e)}))};return Object(s.useEffect)((function(){a()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"container-fluid",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-3",children:Object(h.jsx)(ce,{})}),Object(h.jsxs)("div",{className:"col-md-8 mt-4",children:[Object(h.jsxs)("h2",{className:"text-center text-muted",children:["Here are total ",c.length," Products"]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("table",{className:"table table-bordered table-secondary",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Product Name"}),Object(h.jsx)("th",{children:"Product Price"}),Object(h.jsx)("th",{children:"Stock Available"}),Object(h.jsx)("th",{children:"Product Description"}),Object(h.jsx)("th",{children:"Product Image"}),Object(h.jsx)("th",{children:"Action"})]})}),Object(h.jsx)("tbody",{children:c.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.product_name}),Object(h.jsx)("td",{children:e.product_price}),Object(h.jsx)("td",{children:e.countInStock}),Object(h.jsx)("td",{children:e.product_description}),Object(h.jsx)("td",{children:Object(h.jsx)("img",{src:"http://localhost:5000/".concat(e.product_image),alt:e.product_name,className:"img-fluid",width:"130"})}),Object(h.jsxs)("td",{children:[Object(h.jsx)(i.b,{to:"#",className:"btn btn-warning",children:"Update"}),Object(h.jsx)(i.b,{to:"#",className:"btn btn-danger",children:"Delete"})]})]},t)}))})]})]})]})}),Object(h.jsx)(f,{})]})},ie=function(){var e=Object(s.useState)({}),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(!1),r=Object(j.a)(a,2),i=(r[0],r[1]),o=Object(s.useState)([]),b=Object(j.a)(o,2),m=b[0],x=b[1],p=Object(s.useState)(1),g=Object(j.a)(p,2),N=g[0],v=(g[1],Object(u.b)()),y=Object(l.i)(),w=function(e){(function(e){return fetch("".concat(d,"/productdetails/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){e.error?i(e.error):(n(e),function(e){return fetch("".concat(d,"/product/related/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(e._id).then((function(e){e.error?i(e.error):x(e)})))}))};Object(s.useEffect)((function(){var e=y.productId;w(e)}),[y.productId]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)(E.a,{position:"top-center",theme:"colored"}),Object(h.jsx)("div",{className:"card shadow-lg mb-3 mt-4 offset-md-3",style:{maxWidth:"800px"},children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-6 my-3 p-3",children:Object(h.jsx)("img",{src:"http://localhost:5000/".concat(c.product_image),className:"img-fluid",alt:c.product_name})}),Object(h.jsx)("div",{className:"col-md-6 my-3",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h5",{className:"card-title",children:c.product_name}),Object(h.jsxs)("h5",{className:"card-text",children:["Rs.",c.product_price]}),Object(h.jsx)("p",{className:"card-text",children:c.product_description}),Object(h.jsx)("input",{type:"hidden",value:N}),Object(h.jsx)("button",{className:"btn btn-success",onClick:function(){v(F(y.productId,N)),E.b.success("".concat(c.product_name," is added to cart"))},children:"Add To Cart"})]})})]})}),m.length>0&&Object(h.jsxs)("div",{className:"container my-3",children:[Object(h.jsx)("h2",{className:"my-2 text-center",children:"Related Product"}),Object(h.jsx)("div",{className:"row row-cols-1 row-cols-md-4 g-4",children:m.map((function(e,t){return Object(h.jsx)(z,{item:e},t)}))})]}),Object(h.jsx)(f,{})]})},le=c(37),oe=function(){var e=Object(l.h)(),t=Object.values(le.countries),c=Object(u.c)((function(e){return e.cart})).shippingInfo,n=Object(s.useState)(c.shippingAddress1),a=Object(j.a)(n,2),r=a[0],i=a[1],o=Object(s.useState)(c.shippingAddress2),d=Object(j.a)(o,2),b=d[0],m=d[1],x=Object(s.useState)(c.city),p=Object(j.a)(x,2),g=p[0],N=p[1],v=Object(s.useState)(c.zip),S=Object(j.a)(v,2),C=S[0],k=S[1],I=Object(s.useState)(c.country),F=Object(j.a)(I,2),E=F[0],P=F[1],A=Object(s.useState)(c.phone),T=Object(j.a)(A,2),R=T[0],D=T[1],J=Object(u.b)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"col-md-5 offset-md-3 p-3 my-4 shadow-lg",children:Object(h.jsxs)("form",{children:[Object(h.jsx)("h2",{className:"mb-3",children:"Shipping Information"}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"address1",children:"ShippingAddress1"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"address1",onChange:function(e){return i(e.target.value)},value:r})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"address2",children:"ShippingAddress2"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"address2",onChange:function(e){return m(e.target.value)},value:b})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"city",children:"City"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"city",onChange:function(e){return N(e.target.value)},value:g})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"zip",children:"Zip Code"}),Object(h.jsx)("input",{type:"number",className:"form-control",id:"zip",onChange:function(e){return k(e.target.value)},value:C})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),Object(h.jsx)("input",{type:"number",className:"form-control",id:"phone",onChange:function(e){return D(e.target.value)},value:R})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"country",children:"Country"}),Object(h.jsxs)("select",{className:"form-control",id:"country",onChange:function(e){return P(e.target.value)},children:[Object(h.jsx)("option",{value:E,children:E}),t.map((function(e){return Object(h.jsx)("option",{value:e.name,children:e.name},e.name)}))]})]}),Object(h.jsx)("div",{className:"mb-3",children:Object(h.jsx)("button",{className:"btn btn-warning form-control",onClick:function(t){var c;t.preventDefault(),J((c={shippingAddress1:r,shippingAddress2:b,city:g,zip:C,country:E,phone:R},function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:_,payload:c}),localStorage.setItem("shippingInfo",JSON.stringify(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e("/confirm")},children:"Continue"})})]})})}),Object(h.jsx)(f,{})]})},je=function(){var e=Object(l.h)(),t=Object(u.c)((function(e){return e.cart})),c=t.cartItems,n=t.shippingInfo,a=b().user,r=c.reduce((function(e,t){return e+t.quantity*t.price}),0);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"row d-flex justify-content-evenly mb-3",children:[Object(h.jsxs)("div",{className:"col-md-8 shadow",children:[Object(h.jsx)("h2",{className:"text-center",children:"Shipping Info"}),Object(h.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Name"}),":",Object(h.jsx)("span",{className:"text-muted",children:a.name})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Email"}),":",Object(h.jsx)("span",{className:"text-muted",children:a.email})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"City"}),":",Object(h.jsx)("span",{className:"text-muted",children:n.city})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Phone Number"}),":",Object(h.jsx)("span",{className:"text-muted",children:n.phone})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Country"}),":",Object(h.jsx)("span",{className:"text-muted",children:n.country})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Shipping Address"}),":",Object(h.jsxs)("span",{className:"text-muted",children:[n.shippingAddress1,",",n.shippingAddress2]})]})]}),Object(h.jsx)("hr",{}),Object(h.jsx)("h2",{className:"text-center",children:"Your Cart Items"}),c.map((function(e,t){return Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row align-items-center",children:[Object(h.jsx)("div",{className:"col-md-3",children:Object(h.jsx)("img",{src:"http://localhost:5000/".concat(e.image),alt:e.name,width:"100"})}),Object(h.jsx)("div",{className:"col-md-3",children:Object(h.jsx)("p",{className:"text-muted",children:e.name})}),Object(h.jsx)("div",{className:"col-md-2",children:Object(h.jsxs)("p",{className:"text-warning",children:["Rs.",e.price,"x",e.quantity,"=",Object(h.jsxs)("b",{children:["Rs.",e.price*e.quantity]})]})})]}),Object(h.jsx)("hr",{})]},t)}))]}),Object(h.jsx)("div",{className:"col-md-3",children:Object(h.jsxs)("div",{className:"sahdow p-3",children:[Object(h.jsx)("h4",{children:"Order Summary"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("p",{children:["SubTotal : ",Object(h.jsxs)("span",{children:[c.reduce((function(e,t){return e+Number(t.quantity)}),0)," (Units)"]})]}),Object(h.jsxs)("p",{children:["TotalPrice : Rs.",Object(h.jsx)("span",{children:r})]}),Object(h.jsx)("hr",{}),Object(h.jsx)("button",{className:"btn btn-warning",onClick:function(){var t={totalPrice:r};sessionStorage.setItem("orderInfo",JSON.stringify(t)),e("/payment")},children:"Proceed To Payment"})]})})]})}),Object(h.jsx)(f,{})]})},de=c(15),be={style:{base:{fontSize:"16px"},invalid:{color:"#9e2146"}}},me=function(){var e=Object(de.useStripe)(),t=Object(de.useElements)(),c=Object(u.b)(),n=b(),a=n.user,r=n.token,i=Object(u.c)((function(e){return e.cart})),o=i.cartItems,j=i.shippingInfo,m=Object(u.c)((function(e){return e.newOrder})).error,x=Object(l.h)();Object(s.useEffect)((function(){m&&(E.b.error(m),c(X))}));var p={orderItems:o,shippingAddress1:j.shippingAddress1,shippingAddress2:j.shippingAddress2,city:j.city,zip:j.zip,country:j.country,phone:j.phone,user:a._id},g=JSON.parse(sessionStorage.getItem("orderInfo")),N={amount:Math.round(100*g.totalPrice)},v=function(){var s=Object(w.a)(y.a.mark((function s(n){var i,l,o,j;return y.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n.preventDefault(),document.querySelector("#pay_btn").disabled=!0,s.prev=2,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}},s.next=6,C.a.post("".concat(d,"/payment/process"),N,l);case 6:if(i=s.sent,o=i.data.client_secret,e&&t){s.next=10;break}return s.abrupt("return");case 10:return s.next=12,e.confirmCardPayment("".concat(o),{payment_method:{card:t.getElement(de.CardNumberElement),billing_details:{name:a.name,email:a.email}}});case 12:(j=s.sent).error?(E.b.error(j.error.message),document.querySelector("#pay_btn").disabled=!1):"succeeded"===j.paymentIntent.status?(p.paymentInfo={id:j.paymentIntent.id,status:j.paymentIntent.status},c(Q(p)),localStorage.removeItem("cartItems"),x("/success")):E.b.error("There is some error while processing"),s.next=20;break;case 16:s.prev=16,s.t0=s.catch(2),document.querySelector("#pay_btn").disabled=!1,E.b.error(s.t0.message);case 20:case"end":return s.stop()}}),s,null,[[2,16]])})));return function(e){return s.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)(E.a,{theme:"colored"}),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"col-md-5 offset-md-3 p-3 mt-4 shadow-lg",children:Object(h.jsxs)("form",{onSubmit:v,children:[Object(h.jsx)("h2",{className:"mb-3",children:"Card Information"}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"card-number",children:"Card Number"}),Object(h.jsx)(de.CardNumberElement,{type:"text",className:"form-control",id:"card-number",options:be})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"card-expiry",children:"Card Expiry"}),Object(h.jsx)(de.CardExpiryElement,{type:"text",className:"form-control",id:"card-expiry",options:be})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"card-cvc",children:"Card CVC"}),Object(h.jsx)(de.CardCvcElement,{type:"text",className:"form-control",id:"card-cvc",options:be})]}),Object(h.jsx)("div",{className:"mb-3",children:Object(h.jsx)("button",{className:"btn btn-warning form-control",id:"pay_btn",children:"Pay Now"})})]})})}),Object(h.jsx)(f,{})]})},ue=c(38),he=function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){function e(){return(e=Object(w.a)(y.a.mark((function e(){var t,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(d,"/stripeapi"));case 2:t=e.sent,c=t.data,n(c.stripeApiKey);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),Object(h.jsx)(h.Fragment,{children:c&&Object(h.jsx)(de.Elements,{stripe:Object(ue.a)(c),children:Object(h.jsx)(me,{})})})},Oe=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"container mb-5",children:Object(h.jsx)("div",{className:"row justify-content-center",children:Object(h.jsxs)("div",{className:"col-6 mt-5 text-center",children:[Object(h.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTfz3upZJUzgki4bn27faJf6gPIIo7Yo5HxZg&usqp=CAU",className:"img-fluid my-5 d-block mx-auto",alt:"order success",height:"200",width:"200"}),Object(h.jsx)("h2",{children:"Your Order has been placed successfully"}),Object(h.jsx)(i.b,{to:"/user/profile",children:"Go to Orders"})]})})}),Object(h.jsx)(f,{})]})},xe=function(){return Object(h.jsx)(i.a,{children:Object(h.jsxs)(l.e,{children:[Object(h.jsx)(l.c,{path:"/",element:Object(h.jsx)(L,{})}),Object(h.jsx)(l.c,{path:"/productdetails/:productId",element:Object(h.jsx)(ie,{})}),Object(h.jsx)(l.c,{path:"/signup",element:Object(h.jsx)(N,{})}),Object(h.jsx)(l.c,{path:"/signin",element:Object(h.jsx)(g,{})}),Object(h.jsx)(l.c,{path:"/cart",element:Object(h.jsx)(P,{})}),Object(h.jsx)(l.c,{path:"/deals",element:Object(h.jsx)(q,{})}),Object(h.jsx)(l.c,{path:"/email/confirmation/:token",element:Object(h.jsx)(x,{})}),Object(h.jsxs)(l.c,{path:"/",element:Object(h.jsx)(U,{}),children:[Object(h.jsx)(l.c,{path:"/user/profile",element:Object(h.jsx)($,{})}),Object(h.jsx)(l.c,{path:"/signin/shipping",element:Object(h.jsx)(oe,{})}),Object(h.jsx)(l.c,{path:"/confirm",element:Object(h.jsx)(je,{})}),Object(h.jsx)(l.c,{path:"/payment",element:Object(h.jsx)(he,{})}),Object(h.jsx)(l.c,{path:"/success",element:Object(h.jsx)(Oe,{})})]}),Object(h.jsx)(l.c,{path:"/forgetpassword",element:Object(h.jsx)(ee,{})}),Object(h.jsx)(l.c,{path:"/reset/password/:token",element:Object(h.jsx)(te,{})}),Object(h.jsxs)(l.c,{path:"/",element:Object(h.jsx)(M,{}),children:[Object(h.jsx)(l.c,{path:"/admin/dashboard",element:Object(h.jsx)(se,{})}),Object(h.jsx)(l.c,{path:"/admin/addcategory",element:Object(h.jsx)(ne,{})}),Object(h.jsx)(l.c,{path:"/admin/addproduct",element:Object(h.jsx)(ae,{})}),Object(h.jsx)(l.c,{path:"/admin/allproducts",element:Object(h.jsx)(re,{})})]})]})})},pe=c(20),fe=c(40),ge=c(39),Ne=Object(pe.combineReducers)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:var c=t.payload,s=e.cartItems.find((function(e){return e.product===c.product}));return s?Object(o.a)(Object(o.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===s.product?c:e}))}):Object(o.a)(Object(o.a)({},e),{},{cartItems:[].concat(Object(A.a)(e.cartItems),[c])});case I:return Object(o.a)(Object(o.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case _:return Object(o.a)(Object(o.a)({},e),{},{shippingInfo:t.payload});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case Y:return{loading:!1,order:t.payload};case H:return{loading:!1,error:t.payload};case K:return Object(o.a)(Object(o.a)({},e),{},{error:null});default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case W:return{loading:!1,orders:t.payload};case Z:return{loading:!1,error:t.payload};case K:return Object(o.a)(Object(o.a)({},e),{},{error:null});default:return e}}}),ve={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},ye=[fe.a],we=Object(pe.createStore)(Ne,ve,Object(ge.composeWithDevTools)(pe.applyMiddleware.apply(void 0,ye))),Se=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(u.a,{store:we,children:Object(h.jsx)(xe,{})})})},Ce=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,79)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),s(e),n(e),a(e),r(e)}))};r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(Se,{})}),document.getElementById("root")),Ce()}},[[78,1,2]]]);
//# sourceMappingURL=main.46d701ea.chunk.js.map